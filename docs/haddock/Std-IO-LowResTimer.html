<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Std.IO.LowResTimer</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">stdio-0.1.0.0: Standard Input and Output for Haskell</p></div><div id="content"><div id="module-header"><table class="info"><tr><th valign="top">Copyright</th><td>(c) Dong Han 2017-2018</td></tr><tr><th>License</th><td>BSD</td></tr><tr><th>Maintainer</th><td>winterland1989@gmail.com</td></tr><tr><th>Stability</th><td>experimental</td></tr><tr><th>Portability</th><td>non-portable</td></tr><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Std.IO.LowResTimer</p></div><div id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="#g:1">low resolution timers</a></li><li><a href="#g:2">low resolution timer manager</a></li></ul></div><div id="description"><p class="caption">Description</p><div class="doc"><p>This module provide low resolution (0.1s) timers using a timing wheel of size 128 per capability,
each timer thread will automatically started or stopped based on demannd. register or cancel a timeout is O(1),
and each step only need scan n/128 items given timers are registered in an even fashion.</p><p>This timer is particularly suitable for high concurrent approximated I/O timeout scheduling.
You should not rely on it to provide timing information since it's very inaccurate.</p><p>Reference:</p><ul><li><a href="https://github.com/netty/netty/blob/4.1/common/src/main/java/io/netty/util/HashedWheelTimer.java">https://github.com/netty/netty/blob/4.1/common/src/main/java/io/netty/util/HashedWheelTimer.java</a></li><li><a href="http://www.cse.wustl.edu/~cdgill/courses/cs6874/TimingWheels.ppt">http://www.cse.wustl.edu/~cdgill/courses/cs6874/TimingWheels.ppt</a></li></ul></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><a href="#v:registerLowResTimer">registerLowResTimer</a> :: <a href="file:///opt/ghc/8.6.1/share/doc/ghc-8.6.1/html/libraries/base-4.12.0.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="file:///opt/ghc/8.6.1/share/doc/ghc-8.6.1/html/libraries/base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> () -&gt; <a href="file:///opt/ghc/8.6.1/share/doc/ghc-8.6.1/html/libraries/base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> <a href="Std-IO-LowResTimer.html#t:LowResTimer" title="Std.IO.LowResTimer">LowResTimer</a></li><li class="src short"><a href="#v:registerLowResTimer_">registerLowResTimer_</a> :: <a href="file:///opt/ghc/8.6.1/share/doc/ghc-8.6.1/html/libraries/base-4.12.0.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="file:///opt/ghc/8.6.1/share/doc/ghc-8.6.1/html/libraries/base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> () -&gt; <a href="file:///opt/ghc/8.6.1/share/doc/ghc-8.6.1/html/libraries/base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> ()</li><li class="src short"><a href="#v:registerLowResTimerOn">registerLowResTimerOn</a> :: <a href="Std-IO-LowResTimer.html#t:LowResTimerManager" title="Std.IO.LowResTimer">LowResTimerManager</a> -&gt; <a href="file:///opt/ghc/8.6.1/share/doc/ghc-8.6.1/html/libraries/base-4.12.0.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="file:///opt/ghc/8.6.1/share/doc/ghc-8.6.1/html/libraries/base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> () -&gt; <a href="file:///opt/ghc/8.6.1/share/doc/ghc-8.6.1/html/libraries/base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> <a href="Std-IO-LowResTimer.html#t:LowResTimer" title="Std.IO.LowResTimer">LowResTimer</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:LowResTimer">LowResTimer</a></li><li class="src short"><a href="#v:queryLowResTimer">queryLowResTimer</a> :: <a href="Std-IO-LowResTimer.html#t:LowResTimer" title="Std.IO.LowResTimer">LowResTimer</a> -&gt; <a href="file:///opt/ghc/8.6.1/share/doc/ghc-8.6.1/html/libraries/base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> <a href="file:///opt/ghc/8.6.1/share/doc/ghc-8.6.1/html/libraries/base-4.12.0.0/Data-Int.html#t:Int" title="Data.Int">Int</a></li><li class="src short"><a href="#v:cancelLowResTimer">cancelLowResTimer</a> :: <a href="Std-IO-LowResTimer.html#t:LowResTimer" title="Std.IO.LowResTimer">LowResTimer</a> -&gt; <a href="file:///opt/ghc/8.6.1/share/doc/ghc-8.6.1/html/libraries/base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> <a href="file:///opt/ghc/8.6.1/share/doc/ghc-8.6.1/html/libraries/base-4.12.0.0/Data-Int.html#t:Int" title="Data.Int">Int</a></li><li class="src short"><a href="#v:cancelLowResTimer_">cancelLowResTimer_</a> :: <a href="Std-IO-LowResTimer.html#t:LowResTimer" title="Std.IO.LowResTimer">LowResTimer</a> -&gt; <a href="file:///opt/ghc/8.6.1/share/doc/ghc-8.6.1/html/libraries/base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> ()</li><li class="src short"><a href="#v:timeoutLowRes">timeoutLowRes</a> :: <a href="file:///opt/ghc/8.6.1/share/doc/ghc-8.6.1/html/libraries/base-4.12.0.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="file:///opt/ghc/8.6.1/share/doc/ghc-8.6.1/html/libraries/base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> a -&gt; <a href="file:///opt/ghc/8.6.1/share/doc/ghc-8.6.1/html/libraries/base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="file:///opt/ghc/8.6.1/share/doc/ghc-8.6.1/html/libraries/base-4.12.0.0/GHC-Maybe.html#t:Maybe" title="GHC.Maybe">Maybe</a> a)</li><li class="src short"><a href="#v:throttle">throttle</a> :: <a href="file:///opt/ghc/8.6.1/share/doc/ghc-8.6.1/html/libraries/base-4.12.0.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="file:///opt/ghc/8.6.1/share/doc/ghc-8.6.1/html/libraries/base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> a -&gt; <a href="file:///opt/ghc/8.6.1/share/doc/ghc-8.6.1/html/libraries/base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="file:///opt/ghc/8.6.1/share/doc/ghc-8.6.1/html/libraries/base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> a)</li><li class="src short"><a href="#v:throttle_">throttle_</a> :: <a href="file:///opt/ghc/8.6.1/share/doc/ghc-8.6.1/html/libraries/base-4.12.0.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="file:///opt/ghc/8.6.1/share/doc/ghc-8.6.1/html/libraries/base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> () -&gt; <a href="file:///opt/ghc/8.6.1/share/doc/ghc-8.6.1/html/libraries/base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="file:///opt/ghc/8.6.1/share/doc/ghc-8.6.1/html/libraries/base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> ())</li><li class="src short"><a href="#v:throttleTrailing_">throttleTrailing_</a> :: <a href="file:///opt/ghc/8.6.1/share/doc/ghc-8.6.1/html/libraries/base-4.12.0.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="file:///opt/ghc/8.6.1/share/doc/ghc-8.6.1/html/libraries/base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> () -&gt; <a href="file:///opt/ghc/8.6.1/share/doc/ghc-8.6.1/html/libraries/base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="file:///opt/ghc/8.6.1/share/doc/ghc-8.6.1/html/libraries/base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> ())</li><li class="src short"><span class="keyword">data</span> <a href="#t:LowResTimerManager">LowResTimerManager</a></li><li class="src short"><a href="#v:getLowResTimerManager">getLowResTimerManager</a> :: <a href="file:///opt/ghc/8.6.1/share/doc/ghc-8.6.1/html/libraries/base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> <a href="Std-IO-LowResTimer.html#t:LowResTimerManager" title="Std.IO.LowResTimer">LowResTimerManager</a></li><li class="src short"><a href="#v:isLowResTimerManagerRunning">isLowResTimerManagerRunning</a> :: <a href="Std-IO-LowResTimer.html#t:LowResTimerManager" title="Std.IO.LowResTimer">LowResTimerManager</a> -&gt; <a href="file:///opt/ghc/8.6.1/share/doc/ghc-8.6.1/html/libraries/base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> <a href="file:///opt/ghc/8.6.1/share/doc/ghc-8.6.1/html/libraries/base-4.12.0.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></li><li class="src short"><a href="#v:lowResTimerManagerCapabilitiesChanged">lowResTimerManagerCapabilitiesChanged</a> :: <a href="file:///opt/ghc/8.6.1/share/doc/ghc-8.6.1/html/libraries/base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> ()</li></ul></details></div><div id="interface"><a href="#g:1" id="g:1"><h1>low resolution timers</h1></a><div class="top"><p class="src"><a id="v:registerLowResTimer" class="def">registerLowResTimer</a> <a href="#v:registerLowResTimer" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="file:///opt/ghc/8.6.1/share/doc/ghc-8.6.1/html/libraries/base-4.12.0.0/Data-Int.html#t:Int" title="Data.Int">Int</a></td><td class="doc"><p>timeout in unit of 0.1s</p></td></tr><tr><td class="src">-&gt; <a href="file:///opt/ghc/8.6.1/share/doc/ghc-8.6.1/html/libraries/base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> ()</td><td class="doc"><p>the action you want to perform, it should not block</p></td></tr><tr><td class="src">-&gt; <a href="file:///opt/ghc/8.6.1/share/doc/ghc-8.6.1/html/libraries/base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> <a href="Std-IO-LowResTimer.html#t:LowResTimer" title="Std.IO.LowResTimer">LowResTimer</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Register a new timer on current capability's timer manager, start the timing wheel if it's not turning.</p><p>If the action could block, you may want to run it in another thread. Example to kill a thread after 10s:</p><pre>  registerLowResTimer 100 (forkIO $ killThread tid)
</pre></div></div><div class="top"><p class="src"><a id="v:registerLowResTimer_" class="def">registerLowResTimer_</a> <a href="#v:registerLowResTimer_" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="file:///opt/ghc/8.6.1/share/doc/ghc-8.6.1/html/libraries/base-4.12.0.0/Data-Int.html#t:Int" title="Data.Int">Int</a></td><td class="doc"><p>timeout in unit of 0.1s</p></td></tr><tr><td class="src">-&gt; <a href="file:///opt/ghc/8.6.1/share/doc/ghc-8.6.1/html/libraries/base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> ()</td><td class="doc"><p>the action you want to perform, it should not block</p></td></tr><tr><td class="src">-&gt; <a href="file:///opt/ghc/8.6.1/share/doc/ghc-8.6.1/html/libraries/base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> ()</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p><code><a href="file:///opt/ghc/8.6.1/share/doc/ghc-8.6.1/html/libraries/base-4.12.0.0/Data-Functor.html#v:void" title="Data.Functor">void</a></code> (<code><a href="Std-IO-LowResTimer.html#v:registerLowResTimer" title="Std.IO.LowResTimer">registerLowResTimer</a></code> t action)</p></div></div><div class="top"><p class="src"><a id="v:registerLowResTimerOn" class="def">registerLowResTimerOn</a> <a href="#v:registerLowResTimerOn" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Std-IO-LowResTimer.html#t:LowResTimerManager" title="Std.IO.LowResTimer">LowResTimerManager</a></td><td class="doc"><p>a low resolution timer manager</p></td></tr><tr><td class="src">-&gt; <a href="file:///opt/ghc/8.6.1/share/doc/ghc-8.6.1/html/libraries/base-4.12.0.0/Data-Int.html#t:Int" title="Data.Int">Int</a></td><td class="doc"><p>timeout in unit of 0.1s</p></td></tr><tr><td class="src">-&gt; <a href="file:///opt/ghc/8.6.1/share/doc/ghc-8.6.1/html/libraries/base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> ()</td><td class="doc"><p>the action you want to perform, it should not block</p></td></tr><tr><td class="src">-&gt; <a href="file:///opt/ghc/8.6.1/share/doc/ghc-8.6.1/html/libraries/base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> <a href="Std-IO-LowResTimer.html#t:LowResTimer" title="Std.IO.LowResTimer">LowResTimer</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Same as <code><a href="Std-IO-LowResTimer.html#v:registerLowResTimer" title="Std.IO.LowResTimer">registerLowResTimer</a></code>, but allow you choose timer manager.</p></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:LowResTimer" class="def">LowResTimer</a> <a href="#t:LowResTimer" class="selflink">#</a></p><div class="doc"><p>Timer registered by <code><a href="Std-IO-LowResTimer.html#v:registerLowResTimer" title="Std.IO.LowResTimer">registerLowResTimer</a></code> or <code><a href="Std-IO-LowResTimer.html#v:registerLowResTimerOn" title="Std.IO.LowResTimer">registerLowResTimerOn</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:queryLowResTimer" class="def">queryLowResTimer</a> :: <a href="Std-IO-LowResTimer.html#t:LowResTimer" title="Std.IO.LowResTimer">LowResTimer</a> -&gt; <a href="file:///opt/ghc/8.6.1/share/doc/ghc-8.6.1/html/libraries/base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> <a href="file:///opt/ghc/8.6.1/share/doc/ghc-8.6.1/html/libraries/base-4.12.0.0/Data-Int.html#t:Int" title="Data.Int">Int</a> <a href="#v:queryLowResTimer" class="selflink">#</a></p><div class="doc"><p>Query how many seconds remain before timer firing.</p><p>A return value &lt;= 0 indictate the timer is firing or fired.</p></div></div><div class="top"><p class="src"><a id="v:cancelLowResTimer" class="def">cancelLowResTimer</a> :: <a href="Std-IO-LowResTimer.html#t:LowResTimer" title="Std.IO.LowResTimer">LowResTimer</a> -&gt; <a href="file:///opt/ghc/8.6.1/share/doc/ghc-8.6.1/html/libraries/base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> <a href="file:///opt/ghc/8.6.1/share/doc/ghc-8.6.1/html/libraries/base-4.12.0.0/Data-Int.html#t:Int" title="Data.Int">Int</a> <a href="#v:cancelLowResTimer" class="selflink">#</a></p><div class="doc"><p>Cancel a timer, return the remaining ticks.</p><p>This function have no effect after the timer is fired.</p></div></div><div class="top"><p class="src"><a id="v:cancelLowResTimer_" class="def">cancelLowResTimer_</a> :: <a href="Std-IO-LowResTimer.html#t:LowResTimer" title="Std.IO.LowResTimer">LowResTimer</a> -&gt; <a href="file:///opt/ghc/8.6.1/share/doc/ghc-8.6.1/html/libraries/base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> () <a href="#v:cancelLowResTimer_" class="selflink">#</a></p><div class="doc"><pre>void . cancelLowResTimer</pre></div></div><div class="top"><p class="src"><a id="v:timeoutLowRes" class="def">timeoutLowRes</a> <a href="#v:timeoutLowRes" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="file:///opt/ghc/8.6.1/share/doc/ghc-8.6.1/html/libraries/base-4.12.0.0/Data-Int.html#t:Int" title="Data.Int">Int</a></td><td class="doc"><p>timeout in unit of 0.1s</p></td></tr><tr><td class="src">-&gt; <a href="file:///opt/ghc/8.6.1/share/doc/ghc-8.6.1/html/libraries/base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> a</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; <a href="file:///opt/ghc/8.6.1/share/doc/ghc-8.6.1/html/libraries/base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="file:///opt/ghc/8.6.1/share/doc/ghc-8.6.1/html/libraries/base-4.12.0.0/GHC-Maybe.html#t:Maybe" title="GHC.Maybe">Maybe</a> a)</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>similar to <code><a href="file:///opt/ghc/8.6.1/share/doc/ghc-8.6.1/html/libraries/base-4.12.0.0/System-Timeout.html#v:timeout" title="System.Timeout">timeout</a></code>, this function put a limit on time which an IO can consume.</p><p>Note timeoutLowRes is also implemented with <code><a href="Std-IO-Exception.html#t:Exception" title="Std.IO.Exception">Exception</a></code> underhood, which can have some surprising
 effects on some devices, e.g. use <code><a href="Std-IO-LowResTimer.html#v:timeoutLowRes" title="Std.IO.LowResTimer">timeoutLowRes</a></code> with reading or writing on <code>UVStream</code>s will close
 the <code>UVStream</code> once a reading or writing is not able to be done in time.</p></div></div><div class="top"><p class="src"><a id="v:throttle" class="def">throttle</a> <a href="#v:throttle" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="file:///opt/ghc/8.6.1/share/doc/ghc-8.6.1/html/libraries/base-4.12.0.0/Data-Int.html#t:Int" title="Data.Int">Int</a></td><td class="doc"><p>cache time in unit of 0.1s</p></td></tr><tr><td class="src">-&gt; <a href="file:///opt/ghc/8.6.1/share/doc/ghc-8.6.1/html/libraries/base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> a</td><td class="doc"><p>the original IO action</p></td></tr><tr><td class="src">-&gt; <a href="file:///opt/ghc/8.6.1/share/doc/ghc-8.6.1/html/libraries/base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="file:///opt/ghc/8.6.1/share/doc/ghc-8.6.1/html/libraries/base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> a)</td><td class="doc"><p>throttled IO action</p></td></tr></table></div><div class="doc"><p>Cache result of an IO action for give time t.</p><p>This combinator is useful when you want to share IO result within a period, the action will be called
 on demand, and the result will be cached for t milliseconds.</p><p>One common way to get a shared periodical updated value is to start a seperate thread and do calculation
 periodically, but doing that will stop system from being idle, which stop idle GC from running,
 and in turn disable deadlock detection, which is too bad. This function solves that.</p></div></div><div class="top"><p class="src"><a id="v:throttle_" class="def">throttle_</a> <a href="#v:throttle_" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="file:///opt/ghc/8.6.1/share/doc/ghc-8.6.1/html/libraries/base-4.12.0.0/Data-Int.html#t:Int" title="Data.Int">Int</a></td><td class="doc"><p>cache time in unit of 0.1s</p></td></tr><tr><td class="src">-&gt; <a href="file:///opt/ghc/8.6.1/share/doc/ghc-8.6.1/html/libraries/base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> ()</td><td class="doc"><p>the original IO action</p></td></tr><tr><td class="src">-&gt; <a href="file:///opt/ghc/8.6.1/share/doc/ghc-8.6.1/html/libraries/base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="file:///opt/ghc/8.6.1/share/doc/ghc-8.6.1/html/libraries/base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> ())</td><td class="doc"><p>throttled IO action</p></td></tr></table></div><div class="doc"><p>Debounce IO action without caching result.</p><p>The IO action will run at leading edge. i.e. once run, during following (t/10)s throttled action will
 no-ops.</p><p>Note the action will run in the calling thread.</p></div></div><div class="top"><p class="src"><a id="v:throttleTrailing_" class="def">throttleTrailing_</a> <a href="#v:throttleTrailing_" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="file:///opt/ghc/8.6.1/share/doc/ghc-8.6.1/html/libraries/base-4.12.0.0/Data-Int.html#t:Int" title="Data.Int">Int</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; <a href="file:///opt/ghc/8.6.1/share/doc/ghc-8.6.1/html/libraries/base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> ()</td><td class="doc"><p>the original IO action</p></td></tr><tr><td class="src">-&gt; <a href="file:///opt/ghc/8.6.1/share/doc/ghc-8.6.1/html/libraries/base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="file:///opt/ghc/8.6.1/share/doc/ghc-8.6.1/html/libraries/base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> ())</td><td class="doc"><p>throttled IO action</p></td></tr></table></div><div class="doc"><p>Similar to <code><a href="Std-IO-LowResTimer.html#v:throttle_" title="Std.IO.LowResTimer">throttle_</a></code> but run action in trailing edge</p><p>The IO action will run at trailing edge. i.e. no matter how many times throttled action
 are called, original action will run only once after (t/10)s.</p><p>Note the action will be run in a new created thread.</p></div></div><a href="#g:2" id="g:2"><h1>low resolution timer manager</h1></a><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:LowResTimerManager" class="def">LowResTimerManager</a> <a href="#t:LowResTimerManager" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:getLowResTimerManager" class="def">getLowResTimerManager</a> :: <a href="file:///opt/ghc/8.6.1/share/doc/ghc-8.6.1/html/libraries/base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> <a href="Std-IO-LowResTimer.html#t:LowResTimerManager" title="Std.IO.LowResTimer">LowResTimerManager</a> <a href="#v:getLowResTimerManager" class="selflink">#</a></p><div class="doc"><p>Get a <code><a href="Std-IO-LowResTimer.html#t:LowResTimerManager" title="Std.IO.LowResTimer">LowResTimerManager</a></code> for current thread.</p></div></div><div class="top"><p class="src"><a id="v:isLowResTimerManagerRunning" class="def">isLowResTimerManagerRunning</a> :: <a href="Std-IO-LowResTimer.html#t:LowResTimerManager" title="Std.IO.LowResTimer">LowResTimerManager</a> -&gt; <a href="file:///opt/ghc/8.6.1/share/doc/ghc-8.6.1/html/libraries/base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> <a href="file:///opt/ghc/8.6.1/share/doc/ghc-8.6.1/html/libraries/base-4.12.0.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:isLowResTimerManagerRunning" class="selflink">#</a></p><div class="doc"><p>Check if a timer manager's wheel is turning</p><p>This is mostly for testing purpose.</p></div></div><div class="top"><p class="src"><a id="v:lowResTimerManagerCapabilitiesChanged" class="def">lowResTimerManagerCapabilitiesChanged</a> :: <a href="file:///opt/ghc/8.6.1/share/doc/ghc-8.6.1/html/libraries/base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> () <a href="#v:lowResTimerManagerCapabilitiesChanged" class="selflink">#</a></p><div class="doc"><p>Create new low resolution timer manager on capability change.</p><p>Since low resolution timer manager is not hooked into RTS, you're responsible to call this function
 after you call <code><a href="file:///opt/ghc/8.6.1/share/doc/ghc-8.6.1/html/libraries/base-4.12.0.0/Control-Concurrent.html#v:setNumCapabilities" title="Control.Concurrent">setNumCapabilities</a></code> to match timer manager array size with new capability number.</p><p>This is not a must though, when we fetch timer manager we always take a modulo.</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.20.0</p></div></body></html>