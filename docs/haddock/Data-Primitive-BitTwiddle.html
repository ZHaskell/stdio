<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Data.Primitive.BitTwiddle</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Data-Primitive-BitTwiddle.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">stdio-0.1.0.0: Standard Input and Output for Haskell</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Data.Primitive.BitTwiddle</p></div><div id="description"><p class="caption">Description</p><div class="doc"><p>This module implement some bit twiddling with ghc primitives.</p><p>We currently didn't use all functions from this module though: the performance is not
 catching up c version yet. But this module and relevant benchmarks are kept in hope
 that once we have fully SIMD support in GHC, we might optimize these functions further
 to compete with c.</p><p>Reference:</p><ul><li><a href="https://graphics.stanford.edu/~seander/bithacks.html">https://graphics.stanford.edu/~seander/bithacks.html</a></li><li><a href="https://jameshfisher.github.io/2017/01/24/bitwise-check-for-zero-byte.html">https://jameshfisher.github.io/2017/01/24/bitwise-check-for-zero-byte.html</a></li></ul></div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><a href="#v:isOffsetAligned-35-">isOffsetAligned#</a> :: Int# -&gt; Bool</li><li class="src short"><a href="#v:mkMask-35-">mkMask#</a> :: Word# -&gt; Word#</li><li class="src short"><a href="#v:nullByteMagic-35-">nullByteMagic#</a> :: Word# -&gt; Word#</li><li class="src short"><a href="#v:memchr">memchr</a> :: <a href="Data-Primitive-PrimArray.html#t:PrimArray">PrimArray</a> Word8 -&gt; Word8 -&gt; Int -&gt; Int -&gt; Int</li><li class="src short"><a href="#v:memchr-35-">memchr#</a> :: ByteArray# -&gt; Word# -&gt; Int# -&gt; Int# -&gt; Int#</li><li class="src short"><a href="#v:memchrReverse">memchrReverse</a> :: <a href="Data-Primitive-PrimArray.html#t:PrimArray">PrimArray</a> Word8 -&gt; Word8 -&gt; Int -&gt; Int -&gt; Int</li><li class="src short"><a href="#v:memchrReverse-35-">memchrReverse#</a> :: ByteArray# -&gt; Word# -&gt; Int# -&gt; Int# -&gt; Int#</li></ul></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><a id="v:isOffsetAligned-35-" class="def">isOffsetAligned#</a> :: Int# -&gt; Bool <a href="#v:isOffsetAligned-35-" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:mkMask-35-" class="def">mkMask#</a> :: Word# -&gt; Word# <a href="#v:mkMask-35-" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:nullByteMagic-35-" class="def">nullByteMagic#</a> :: Word# -&gt; Word# <a href="#v:nullByteMagic-35-" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:memchr" class="def">memchr</a> :: <a href="Data-Primitive-PrimArray.html#t:PrimArray">PrimArray</a> Word8 -&gt; Word8 -&gt; Int -&gt; Int -&gt; Int <a href="#v:memchr" class="selflink">#</a></p><div class="doc"><p>Search a word8 in array.</p><p>Currently this function is ~4 times slow than c version, so we didn't use it.</p></div></div><div class="top"><p class="src"><a id="v:memchr-35-" class="def">memchr#</a> :: ByteArray# -&gt; Word# -&gt; Int# -&gt; Int# -&gt; Int# <a href="#v:memchr-35-" class="selflink">#</a></p><div class="doc"><p>The unboxed version of <code><a href="Data-Primitive-BitTwiddle.html#v:memchr">memchr</a></code></p></div></div><div class="top"><p class="src"><a id="v:memchrReverse" class="def">memchrReverse</a> :: <a href="Data-Primitive-PrimArray.html#t:PrimArray">PrimArray</a> Word8 -&gt; Word8 -&gt; Int -&gt; Int -&gt; Int <a href="#v:memchrReverse" class="selflink">#</a></p><div class="doc"><p>Search a word8 array in reverse order.</p><p>This function is used in <code>elemIndexEnd</code>, since there's no c equivalent.</p></div></div><div class="top"><p class="src"><a id="v:memchrReverse-35-" class="def">memchrReverse#</a> :: ByteArray# -&gt; Word# -&gt; Int# -&gt; Int# -&gt; Int# <a href="#v:memchrReverse-35-" class="selflink">#</a></p><div class="doc"><p>The unboxed version of <code><a href="Data-Primitive-BitTwiddle.html#v:memchrReverse">memchrReverse</a></code></p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.17.3</p></div></body></html>